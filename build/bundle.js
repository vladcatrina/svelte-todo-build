var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function r(e){let t;return s(e,e=>t=e)(),t}function c(e,t,n){e.$$.on_destroy.push(s(t,n))}function u(e){return null==e?"":e}function a(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function h(){return g(" ")}function $(){return g("")}function v(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function x(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function I(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function M(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let S;function R(e){S=e}function D(e){(function(){if(!S)throw new Error("Function called outside component initialization");return S})().$$.on_mount.push(e)}function L(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const C=[],_=[],T=[],N=[],q=Promise.resolve();let E=!1;function A(e){T.push(e)}function O(e){N.push(e)}let P=!1;const j=new Set;function z(){if(!P){P=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];R(t),F(t.$$)}for(R(null),C.length=0;_.length;)_.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];j.has(t)||(j.add(t),t())}T.length=0}while(C.length);for(;N.length;)N.pop()();E=!1,P=!1,j.clear()}}function F(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(A)}}const W=new Set;let V;function U(){V={r:0,c:[],p:V}}function X(){V.r||l(V.c),V=V.p}function B(e,t){e&&e.i&&(W.delete(e),e.i(t))}function H(e,t,n,l){if(e&&e.o){if(W.has(e))return;W.add(e),V.c.push(()=>{W.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}function G(e,t){H(e,1,1,()=>{t.delete(e.key)})}function J(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function Q(e){e&&e.c()}function Y(e,n,o){const{fragment:s,on_mount:r,on_destroy:c,after_update:u}=e.$$;s&&s.m(n,o),A(()=>{const n=r.map(t).filter(i);c?c.push(...n):l(n),e.$$.on_mount=[]}),u.forEach(A)}function K(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,t){-1===e.$$.dirty[0]&&(C.push(e),E||(E=!0,q.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ee(t,i,o,s,r,c,u=[-1]){const a=S;R(t);const d=i.props||{},p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let m=!1;if(p.ctx=o?o(t,d,(e,n,...l)=>{const i=l.length?l[0]:n;return p.ctx&&r(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),m&&Z(t,e)),n}):[],p.update(),m=!0,l(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();i.intro&&B(t.$$.fragment),Y(t,i.target,i.anchor),z()}R(a)}class te{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ne=[];function le(e,t){return{subscribe:ie(e,t).subscribe}}function ie(t,n=e){let l;const i=[];function s(e){if(o(t,e)&&(t=e,l)){const e=!ne.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ne.push(n,t)}if(e){for(let e=0;e<ne.length;e+=2)ne[e][0](ne[e+1]);ne.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,r=e){const c=[o,r];return i.push(c),1===i.length&&(l=n(s)||e),o(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(l(),l=null)}}}}function oe(t,n,o){const r=!Array.isArray(t),c=r?[t]:t,u=n.length<2;return le(o,t=>{let o=!1;const a=[];let d=0,f=e;const p=()=>{if(d)return;f();const l=n(r?a[0]:a,t);u?t(l):f=i(l)?l:e},m=c.map((e,t)=>s(e,e=>{a[t]=e,d&=~(1<<t),o&&p()},()=>{d|=1<<t}));return o=!0,p(),function(){l(m),f()}})}const se=["Quest","Training"],re={content:"Add some TODOs! :)",date:new Date,type:0,skillReq:{skill:-1,level:0},skillReward:{skill:-1,level:0},xpReward:0,timeLimit:0,completed:!1,expired:!1,sentExpireWarning:!1},ce={name:"Guitar",level:0},ue={modalOpen:!1,separateDisplay:!1,viewCompleted:!1,questsFirst:!0,nightMode:!1,searchString:""};function ae(e){return e=new Date(e),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(e)}const de=36e5,fe=864e5;function pe(e){if(e<6e4)return{en:"less than 1 minute",ro:"mai puțin de 1 minut"};if(e<de){let t=Math.floor(e/6e4);return{en:`${t} minute${t>1?"s":""}`,ro:`${t} ${t>=20?"de":""} minut${t>1?"e":""}`}}if(e<fe){let t=Math.floor(e/de);return{en:`${t} hour${t>1?"s":""}`,ro:`${t} ${t>=20?"de":""} or${t>1?"e":"ă"}`}}let t=Math.floor(e/fe);return{en:`${t} day${t>1?"s":""}`,ro:`${t} ${t>=20?"de":""} zi${t>1?"le":""}`}}function me(e,t){const n=pe(t-(e=new Date(e)));return{en:n.en+" ago",ro:"acum "+n.ro}}function ge(e){return parseInt(e).toString()===e.toString()}function he(e,t,n){let l,i=[...e];return l={...i[t]},i[t]={...i[n]},i[n]={...l},i}function $e(e){return function(t){const n=window.localStorage.getItem(e);n&&t(JSON.parse(n))}}const ve=(()=>{const{subscribe:e,update:t}=ie([],$e("skillList"));return{subscribe:e,add:e=>{t(t=>[...t,{...ce,...e}])},reward:(e,n)=>{t(t=>{let l=[...t];return l[e].level=parseInt(l[e].level)+parseInt(n),l})}}})(),xe={listLimitError:{ro:"Ați atins capătul listei!",en:"List limit reached!"},content:{ro:"Conținut",en:"Content"},save:{ro:"Salvează",en:"Save"},add:{ro:"Adaugă",en:"Add"},none:{ro:"Niciunul",en:"None"},shortTime:{ro:"rămas(e) pentru",en:"left for"},expiredTime:{ro:"Timpul a expirat pentru",en:"Time has run out for"},viewMixed:{ro:"Afișare mixtă",en:"View mixed"},viewSeparate:{ro:"Afișare separată",en:"View separate"},skills:{ro:"Abilități",en:"Skills"},viewCompleted:{ro:"Vezi completate",en:"View completed"},hideCompleted:{ro:"Ascunde completate",en:"Hide completed"},search:{ro:"Căutare",en:"Search"},submit:{ro:"Aplică",en:"Submit"},skillRequirement:{ro:"Cerință abilitate",en:"Skill Requirement"},skillReward:{ro:"Recompensă abilitate",en:"Skill Reward"},xpReward:{ro:"Recompensă XP",en:"XP Reward"},timeLimit:{ro:"Limită de timp",en:"Time Limit"},addSomeTodos:{ro:"Adaugă niște sarcini!",en:"Add some Todos!"},addSomeSkills:{ro:"Adaugă niște abilități!",en:"Add some skills!"},skillInsufficient:{ro:"Abilitate insuficientă!",en:"Insufficient skill!"},options:{en:"Options",ro:"Opțiuni"},notifications:{en:"Notifications",ro:"Notificări"},noNotifications:{en:"No notifications",ro:"Nu sunt notificări"}},we=(()=>{const{subscribe:e,update:t}=ie("en",$e("language"));return{subscribe:e,toggle:()=>{t(e=>"ro"===e?"en":"ro")}}})(),be=oe(we,e=>{let t={};for(let n in xe)t[n]=xe[n][e];return t});function ke(t){let n,i,o,s,r,c,u,p,$=t[2].add+"";return{c(){n=m("form"),i=m("input"),s=h(),r=m("button"),c=g($),b(i,"placeholder",o=t[2].name),b(i,"class","svelte-e99vda"),b(r,"type","submit"),b(n,"class","svelte-e99vda")},m(e,l){d(e,n,l),a(n,i),y(i,t[0]),t[5](i),a(n,s),a(n,r),a(r,c),u||(p=[v(i,"input",t[4]),v(n,"submit",x(t[3]))],u=!0)},p(e,[t]){4&t&&o!==(o=e[2].name)&&b(i,"placeholder",o),1&t&&i.value!==e[0]&&y(i,e[0]),4&t&&$!==($=e[2].add+"")&&k(c,$)},i:e,o:e,d(e){e&&f(n),t[5](null),u=!1,l(p)}}}function ye(e,t,n){let l;c(e,be,e=>n(2,l=e));let i,o="";return[o,i,l,function(){i.focus(),""!==o&&(ve.add({name:o}),n(0,o=""))},function(){o=this.value,n(0,o)},function(e){_[e?"unshift":"push"](()=>{i=e,n(1,i)})}]}class Ie extends te{constructor(e){super(),ee(this,e,ye,ke,o,{})}}function Me(e,t,n){const l=e.slice();return l[2]=t[n].name,l[3]=t[n].level,l}function Se(e){let t,n,l=e[1].addSomeSkills+"";return{c(){t=m("li"),n=g(l)},m(e,l){d(e,t,l),a(t,n)},p(e,t){2&t&&l!==(l=e[1].addSomeSkills+"")&&k(n,l)},d(e){e&&f(t)}}}function Re(e){let t,n,l,i,o,s,r=e[2]+"",c=e[3]+"";return{c(){t=m("li"),n=m("b"),l=g(r),i=h(),o=m("i"),s=g(c)},m(e,r){d(e,t,r),a(t,n),a(n,l),a(t,i),a(t,o),a(o,s)},p(e,t){1&t&&r!==(r=e[2]+"")&&k(l,r),1&t&&c!==(c=e[3]+"")&&k(s,c)},d(e){e&&f(t)}}}function De(e){let t,n,l,i,o,s,r=0===e[0].length&&Se(e),c=e[0],u=[];for(let t=0;t<c.length;t+=1)u[t]=Re(Me(e,c,t));return o=new Ie({}),{c(){t=m("div"),n=m("ul"),r&&r.c(),l=h();for(let e=0;e<u.length;e+=1)u[e].c();i=h(),Q(o.$$.fragment)},m(e,c){d(e,t,c),a(t,n),r&&r.m(n,null),a(n,l);for(let e=0;e<u.length;e+=1)u[e].m(n,null);a(t,i),Y(o,t,null),s=!0},p(e,[t]){if(0===e[0].length?r?r.p(e,t):(r=Se(e),r.c(),r.m(n,l)):r&&(r.d(1),r=null),1&t){let l;for(c=e[0],l=0;l<c.length;l+=1){const i=Me(e,c,l);u[l]?u[l].p(i,t):(u[l]=Re(i),u[l].c(),u[l].m(n,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=c.length}},i(e){s||(B(o.$$.fragment,e),s=!0)},o(e){H(o.$$.fragment,e),s=!1},d(e){e&&f(t),r&&r.d(),p(u,e),K(o)}}}function Le(e,t,n){let l,i;return c(e,ve,e=>n(0,l=e)),c(e,be,e=>n(1,i=e)),[l,i]}class Ce extends te{constructor(e){super(),ee(this,e,Le,De,o,{})}}function _e(e){let t,n,o,s,r,c,u,p,g;return c=new Ce({}),{c(){t=m("div"),n=m("div"),o=m("button"),o.textContent="×",s=h(),r=m("div"),Q(c.$$.fragment),b(o,"id","close-button"),b(o,"class","svelte-29f9v0"),b(r,"class","modal-content svelte-29f9v0"),b(n,"class","modal svelte-29f9v0"),b(t,"class","modal-bg svelte-29f9v0")},m(l,f){d(l,t,f),a(t,n),a(n,o),a(n,s),a(n,r),Y(c,r,null),u=!0,p||(g=[v(o,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),v(n,"click",Ne),v(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)}))],p=!0)},p(t,n){e=t},i(e){u||(B(c.$$.fragment,e),u=!0)},o(e){H(c.$$.fragment,e),u=!1},d(e){e&&f(t),K(c),p=!1,l(g)}}}function Te(e){let t,n,l=e[0]&&_e(e);return{c(){l&&l.c(),t=$()},m(e,i){l&&l.m(e,i),d(e,t,i),n=!0},p(e,[n]){e[0]?l?(l.p(e,n),1&n&&B(l,1)):(l=_e(e),l.c(),B(l,1),l.m(t.parentNode,t)):l&&(U(),H(l,1,1,()=>{l=null}),X())},i(e){n||(B(l),n=!0)},o(e){H(l),n=!1},d(e){l&&l.d(e),e&&f(t)}}}const Ne=e=>e.stopPropagation();function qe(e,t,n){let{open:l}=t,{toggleSkillModal:i}=t;return e.$$set=e=>{"open"in e&&n(0,l=e.open),"toggleSkillModal"in e&&n(1,i=e.toggleSkillModal)},[l,i]}class Ee extends te{constructor(e){super(),ee(this,e,qe,Te,o,{open:0,toggleSkillModal:1})}}const Ae=(()=>{const{subscribe:e,update:t,set:n}=ie(ue,$e("display"));return{subscribe:e,setMixedDisplay:()=>{t(e=>({...e,separateDisplay:!1}))},setSeparateDisplay:()=>{t(e=>({...e,separateDisplay:!0}))},listSearchResults:e=>{t(t=>({...t,searchString:e}))},toggleModal:()=>{t(e=>({...e,modalOpen:!e.modalOpen}))},toggleViewCompleted:()=>{t(e=>({...e,viewCompleted:!e.viewCompleted}))},toggleNightMode:()=>{t(e=>({...e,nightMode:!e.nightMode}))}}})(),Oe=(()=>{const{subscribe:e,update:t,set:n}=ie([],$e("notifications"));return{subscribe:e,clear:()=>n([]),add:e=>t(t=>[...t,{...e}])}})(),Pe=(()=>{const{subscribe:e,update:t}=ie(0,$e("xp"));return{subscribe:e,reward:e=>{t(t=>parseInt(t)+parseInt(e))}}})(),je=function(){const{subscribe:e,update:t}=ie([],$e("todoList"));return{subscribe:e,add:e=>{t(t=>[...t,{...re,...e}])},remove:e=>{t(t=>{let n=[...t];return n.splice(e,1),n})},edit:(e,n)=>{t(t=>{let l=[...t];return l[e]={...l[e],...n},l})},complete:e=>{t(t=>{let n=[...t];if(n[e].expired)throw"todoExpired";const l=r(ve);if(-1!==n[e].skillReq.skill&&n[e].skillReq.level>l[n[e].skillReq.skill].level)throw"skillInsufficient";return Pe.reward(n[e].xpReward),-1!==n[e].skillReward.skill&&ve.reward(n[e].skillReward.skill,n[e].skillReward.level),n[e]={...n[e],completed:!0},n})},uncomplete:e=>{t(t=>{let n=[...t];return n[e]={...n[e],completed:!1},n})},expire:e=>{t(t=>{let n=[...t];return n[e]={...n[e],expired:!0},n})},hasSentExpiredWarning:e=>{t(t=>{let n=[...t];return n[e]={...n[e],sentExpireWarning:!0},n})},switchPlaces:(e,n,l)=>{let i;return t(t=>{const o=-1===n?-1:t.length;for(let s=e+n;s!=o;s+=n)if(l(t[s])===l(t[e]))return i=s,he(t,e,s);throw"listLimitError"}),i}}}();function ze(t){let n,l,i;return{c(){n=m("button"),n.textContent="×"},m(e,o){d(e,n,o),l||(i=v(n,"click",t[0]),l=!0)},p:e,i:e,o:e,d(e){e&&f(n),l=!1,i()}}}function Fe(e,t,n){let{index:l}=t;return e.$$set=e=>{"index"in e&&n(1,l=e.index)},[()=>{je.remove(l)},l]}class We extends te{constructor(e){super(),ee(this,e,Fe,ze,o,{index:1})}}function Ve(e,t,n){const l=e.slice();return l[4]=t[n],l[6]=n,l}function Ue(t){let n,l,i,o=t[4]+"";return{c(){n=m("option"),l=g(o),n.__value=i=t[6],n.value=n.__value},m(e,t){d(e,n,t),a(n,l)},p:e,d(e){e&&f(n)}}}function Xe(e){let t,n=(-1!==e[1]&&e[1]===e[6]||!e[2].separateDisplay||-1===e[1])&&Ue(e);return{c(){n&&n.c(),t=$()},m(e,l){n&&n.m(e,l),d(e,t,l)},p(e,l){-1!==e[1]&&e[1]===e[6]||!e[2].separateDisplay||-1===e[1]?n?n.p(e,l):(n=Ue(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&f(t)}}}function Be(t){let n,l,i,o=se,s=[];for(let e=0;e<o.length;e+=1)s[e]=Xe(Ve(t,o,e));return{c(){n=m("select");for(let e=0;e<s.length;e+=1)s[e].c();void 0===t[0]&&A(()=>t[3].call(n))},m(e,o){d(e,n,o);for(let e=0;e<s.length;e+=1)s[e].m(n,null);I(n,t[0]),l||(i=v(n,"change",t[3]),l=!0)},p(e,[t]){if(6&t){let l;for(o=se,l=0;l<o.length;l+=1){const i=Ve(e,o,l);s[l]?s[l].p(i,t):(s[l]=Xe(i),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}1&t&&I(n,e[0])},i:e,o:e,d(e){e&&f(n),p(s,e),l=!1,i()}}}function He(e,t,n){let l;c(e,Ae,e=>n(2,l=e));let{value:i}=t,{todoListIndex:o=-1}=t;return e.$$set=e=>{"value"in e&&n(0,i=e.value),"todoListIndex"in e&&n(1,o=e.todoListIndex)},[i,o,l,function(){i=M(this),n(0,i)}]}class Ge extends te{constructor(e){super(),ee(this,e,He,Be,o,{value:0,todoListIndex:1})}}function Je(e){let t,n,i,o,s,r,c,u,p,h,$,w,I=e[4].add+"";function M(t){e[8].call(null,t)}let S={todoListIndex:e[0]};return void 0!==e[3]&&(S.value=e[3]),s=new Ge({props:S}),_.push(()=>J(s,"value",M)),{c(){t=m("form"),n=m("input"),o=g(" \r\n    "),Q(s.$$.fragment),c=g(" \r\n  "),u=m("button"),p=g(I),b(n,"placeholder",i=e[4].content),b(n,"class","svelte-zxzugk"),b(u,"type","submit"),b(t,"class","svelte-zxzugk")},m(l,i){d(l,t,i),a(t,n),y(n,e[1]),e[7](n),a(t,o),Y(s,t,null),a(t,c),a(t,u),a(u,p),h=!0,$||(w=[v(n,"input",e[6]),v(t,"submit",x(e[5]))],$=!0)},p(e,[t]){(!h||16&t&&i!==(i=e[4].content))&&b(n,"placeholder",i),2&t&&n.value!==e[1]&&y(n,e[1]);const l={};1&t&&(l.todoListIndex=e[0]),!r&&8&t&&(r=!0,l.value=e[3],O(()=>r=!1)),s.$set(l),(!h||16&t)&&I!==(I=e[4].add+"")&&k(p,I)},i(e){h||(B(s.$$.fragment,e),h=!0)},o(e){H(s.$$.fragment,e),h=!1},d(n){n&&f(t),e[7](null),K(s),$=!1,l(w)}}}function Qe(e,t,n){let l;c(e,be,e=>n(4,l=e));let i,o,s="",{todoListIndex:r}=t;return e.$$set=e=>{"todoListIndex"in e&&n(0,r=e.todoListIndex)},[r,s,i,o,l,()=>{i.focus(),""!==s&&(je.add({content:s,date:new Date,type:o}),n(1,s=""))},function(){s=this.value,n(1,s)},function(e){_[e?"unshift":"push"](()=>{i=e,n(2,i)})},function(e){o=e,n(3,o)}]}class Ye extends te{constructor(e){super(),ee(this,e,Qe,Je,o,{todoListIndex:0})}}function Ke(t){let n,l,i,o;return{c(){n=m("button"),l=g(t[0])},m(e,s){d(e,n,s),a(n,l),i||(o=v(n,"click",w(t[1])),i=!0)},p(e,[t]){1&t&&k(l,e[0])},i:e,o:e,d(e){e&&f(n),i=!1,o()}}}function Ze(e,t,n){let l;c(e,be,e=>n(6,l=e));let{text:i}=t,{diff:o}=t,{index:s}=t,{filter:r}=t,{focusNewPos:u}=t;return e.$$set=e=>{"text"in e&&n(0,i=e.text),"diff"in e&&n(2,o=e.diff),"index"in e&&n(3,s=e.index),"filter"in e&&n(4,r=e.filter),"focusNewPos"in e&&n(5,u=e.focusNewPos)},[i,e=>{try{e.target.blur();const t=je.switchPlaces(s,o,r);u(t)}catch(e){alert(l[e])}},o,s,r,u]}class et extends te{constructor(e){super(),ee(this,e,Ze,Ke,o,{text:0,diff:2,index:3,filter:4,focusNewPos:5})}}function tt(e,t,n){const l=e.slice();return l[4]=t[n].name,l[6]=n,l}function nt(e){let t,n,l,i=e[4]+"";return{c(){t=m("option"),n=g(i),t.__value=l=e[6],t.value=t.__value},m(e,l){d(e,t,l),a(t,n)},p(e,t){4&t&&i!==(i=e[4]+"")&&k(n,i)},d(e){e&&f(t)}}}function lt(t){let n,l,i,o,s,r,c=t[1].none+"",u=t[2],h=[];for(let e=0;e<u.length;e+=1)h[e]=nt(tt(t,u,e));return{c(){n=m("select"),l=m("option"),i=g(c);for(let e=0;e<h.length;e+=1)h[e].c();l.__value=o=-1,l.value=l.__value,void 0===t[0]&&A(()=>t[3].call(n))},m(e,o){d(e,n,o),a(n,l),a(l,i);for(let e=0;e<h.length;e+=1)h[e].m(n,null);I(n,t[0]),s||(r=v(n,"change",t[3]),s=!0)},p(e,[t]){if(2&t&&c!==(c=e[1].none+"")&&k(i,c),4&t){let l;for(u=e[2],l=0;l<u.length;l+=1){const i=tt(e,u,l);h[l]?h[l].p(i,t):(h[l]=nt(i),h[l].c(),h[l].m(n,null))}for(;l<h.length;l+=1)h[l].d(1);h.length=u.length}1&t&&I(n,e[0])},i:e,o:e,d(e){e&&f(n),p(h,e),s=!1,r()}}}function it(e,t,n){let l,i;c(e,be,e=>n(1,l=e)),c(e,ve,e=>n(2,i=e));let{value:o}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,l,i,function(){o=M(this),n(0,o)}]}class ot extends te{constructor(e){super(),ee(this,e,it,lt,o,{value:0})}}function st(e,t,n){const l=e.slice();return l[0]=t[n],l}function rt(e,t,n){const l=e.slice();return l[13]=t[n],l}function ct(e,t,n){const l=e.slice();return l[18]=t[n],l}function ut(t){let n,l,i=t[18]+"";return{c(){n=m("th"),l=g(i)},m(e,t){d(e,n,t),a(n,l)},p:e,d(e){e&&f(n)}}}function at(e){let t,n,l,i,o,s=e[0].getDate()+"";function r(...t){return e[11](e[0],...t)}return{c(){t=m("td"),n=g(s),b(t,"class",l=u(`${e[0].getMonth()===e[1]?"current-month":""} ${e[0].getDate()===(new Date).getDate()&&e[0].getMonth()===(new Date).getMonth()?"today":""}`)+" svelte-xezyo0")},m(e,l){d(e,t,l),a(t,n),i||(o=v(t,"click",r),i=!0)},p(i,o){e=i,8&o&&s!==(s=e[0].getDate()+"")&&k(n,s),10&o&&l!==(l=u(`${e[0].getMonth()===e[1]?"current-month":""} ${e[0].getDate()===(new Date).getDate()&&e[0].getMonth()===(new Date).getMonth()?"today":""}`)+" svelte-xezyo0")&&b(t,"class",l)},d(e){e&&f(t),i=!1,o()}}}function dt(e){let t,n,l=e[13],i=[];for(let t=0;t<l.length;t+=1)i[t]=at(st(e,l,t));return{c(){t=m("tr");for(let e=0;e<i.length;e+=1)i[e].c();n=h()},m(e,l){d(e,t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null);a(t,n)},p(e,o){if(74&o){let s;for(l=e[13],s=0;s<l.length;s+=1){const r=st(e,l,s);i[s]?i[s].p(r,o):(i[s]=at(r),i[s].c(),i[s].m(t,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=l.length}},d(e){e&&f(t),p(i,e)}}}function ft(t){let n,i,o,s,r,c,u,$,w,y,I,M,S,R,D,L,C=t[4][t[1]]+"",_=t[5],T=[];for(let e=0;e<_.length;e+=1)T[e]=ut(ct(t,_,e));let N=t[3],q=[];for(let e=0;e<N.length;e+=1)q[e]=dt(rt(t,N,e));return{c(){n=m("div"),i=m("div"),o=m("button"),o.textContent="<",s=h(),r=m("b"),c=g(C),u=h(),$=g(t[2]),w=h(),y=m("button"),y.textContent=">",I=h(),M=m("table"),S=m("tr");for(let e=0;e<T.length;e+=1)T[e].c();R=h();for(let e=0;e<q.length;e+=1)q[e].c();b(i,"class","header"),b(n,"class","calendar")},m(e,l){d(e,n,l),a(n,i),a(i,o),a(i,s),a(i,r),a(r,c),a(r,u),a(r,$),a(i,w),a(i,y),a(n,I),a(n,M),a(M,S);for(let e=0;e<T.length;e+=1)T[e].m(S,null);a(M,R);for(let e=0;e<q.length;e+=1)q[e].m(M,null);D||(L=[v(o,"click",x(t[7])),v(y,"click",x(t[8]))],D=!0)},p(e,[t]){if(2&t&&C!==(C=e[4][e[1]]+"")&&k(c,C),4&t&&k($,e[2]),32&t){let n;for(_=e[5],n=0;n<_.length;n+=1){const l=ct(e,_,n);T[n]?T[n].p(l,t):(T[n]=ut(l),T[n].c(),T[n].m(S,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=_.length}if(74&t){let n;for(N=e[3],n=0;n<N.length;n+=1){const l=rt(e,N,n);q[n]?q[n].p(l,t):(q[n]=dt(l),q[n].c(),q[n].m(M,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=N.length}},i:e,o:e,d(e){e&&f(n),p(T,e),p(q,e),D=!1,l(L)}}}const pt=864e5;function mt(e,t,n){let{value:l}=t,{closeCalendar:i}=t,{date:o=new Date}=t;let s,r,c;function u(e){n(1,s=e.getMonth()),n(2,r=e.getFullYear()),n(3,c=function(e){let t=new Array([],[],[],[],[],[]),n=new Date(e);n.setDate(1);const l=n.getDay();n-=l*pt;for(let e=0;e<42;e++)t[Math.floor(e/7)][e%7]=new Date(n),n+=pt;return t}(e))}function a(e){n(9,l=e),i()}u(o);return e.$$set=e=>{"value"in e&&n(9,l=e.value),"closeCalendar"in e&&n(10,i=e.closeCalendar),"date"in e&&n(0,o=e.date)},[o,s,r,c,["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],["Su","Mo","Tu","We","Th","Fr","Sa"],a,function(){o.setMonth(o.getMonth()-1),u(o)},function(){o.setMonth(o.getMonth()+1),u(o)},l,i,e=>a(e)]}class gt extends te{constructor(e){super(),ee(this,e,mt,ft,o,{value:9,closeCalendar:10,date:0})}}function ht(e){let t,n,o,s,r,c,p,$,I,M,S,R,D,L,C,T,N,q,E=new Intl.DateTimeFormat("en-US").format(e[1])+"";function A(t){e[9].call(null,t)}let P={closeCalendar:e[5]};return void 0!==e[1]&&(P.value=e[1]),$=new gt({props:P}),_.push(()=>J($,"value",A)),{c(){t=m("span"),n=g(E),o=h(),s=m("div"),r=m("button"),r.textContent="Calendar",c=h(),p=m("div"),Q($.$$.fragment),S=h(),R=m("input"),D=g("\r\n    :\r\n    "),L=m("input"),b(r,"id","calendar-button"),b(p,"class",M=u("calendar-box "+(e[0]?"open":"closed"))+" svelte-1esx3eq"),b(R,"maxlength","2"),b(R,"class","svelte-1esx3eq"),b(L,"maxlength","2"),b(L,"class","svelte-1esx3eq"),b(s,"class","hour-inputs svelte-1esx3eq"),b(t,"class",C=u("time-input-container")+" svelte-1esx3eq")},m(l,u){d(l,t,u),a(t,n),a(t,o),a(t,s),a(s,r),a(s,c),a(s,p),Y($,p,null),a(s,S),a(s,R),y(R,e[2]),a(s,D),a(s,L),y(L,e[3]),T=!0,N||(q=[v(r,"click",w(x((function(){i(e[0]?e[5]:e[4])&&(e[0]?e[5]:e[4]).apply(this,arguments)})))),v(p,"click",w(e[8])),v(R,"input",e[10]),v(L,"input",e[11])],N=!0)},p(t,[l]){e=t,(!T||2&l)&&E!==(E=new Intl.DateTimeFormat("en-US").format(e[1])+"")&&k(n,E);const i={};!I&&2&l&&(I=!0,i.value=e[1],O(()=>I=!1)),$.$set(i),(!T||1&l&&M!==(M=u("calendar-box "+(e[0]?"open":"closed"))+" svelte-1esx3eq"))&&b(p,"class",M),4&l&&R.value!==e[2]&&y(R,e[2]),8&l&&L.value!==e[3]&&y(L,e[3])},i(e){T||(B($.$$.fragment,e),T=!0)},o(e){H($.$$.fragment,e),T=!1},d(e){e&&f(t),K($),N=!1,l(q)}}}function $t(e,t,n){let{value:l}=t,{startDate:i}=t,o=new Date(new Date(i).valueOf()+l),s=!1,r=new Date(o);function c(){n(0,s=!1),document.removeEventListener("click",c,!0)}let u=o.getHours(),a=o.getMinutes();return parseInt(u)<10&&(u="0"+u),parseInt(a)<10&&(a="0"+a),e.$$set=e=>{"value"in e&&n(6,l=e.value),"startDate"in e&&n(7,i=e.startDate)},e.$$.update=()=>{4238&e.$$.dirty&&(n(12,o=new Date(r)),o.setHours(u),o.setMinutes(a),n(6,l=o-i))},[s,r,u,a,function(){n(0,s=!0),document.addEventListener("click",c)},c,l,i,function(t){L(e,t)},function(e){r=e,n(1,r)},function(){u=this.value,n(2,u)},function(){a=this.value,n(3,a)}]}class vt extends te{constructor(e){super(),ee(this,e,$t,ht,o,{value:6,startDate:7})}}function xt(e){let t,n,l,i,o,s,r,c,u,p,$=e[1].skillReward+"";function v(t){e[5].call(null,t)}let x={};void 0!==e[0].skillReward.skill&&(x.value=e[0].skillReward.skill),r=new ot({props:x}),_.push(()=>J(r,"value",v));let w=-1!==e[0].skillReward.skill&&bt(e);return{c(){t=m("tr"),n=m("td"),l=g($),i=h(),o=m("td"),s=m("div"),Q(r.$$.fragment),u=h(),w&&w.c(),b(s,"class","right-column svelte-1vuvfv5")},m(e,c){d(e,t,c),a(t,n),a(n,l),a(t,i),a(t,o),a(o,s),Y(r,s,null),a(s,u),w&&w.m(s,null),p=!0},p(e,t){(!p||2&t)&&$!==($=e[1].skillReward+"")&&k(l,$);const n={};!c&&1&t&&(c=!0,n.value=e[0].skillReward.skill,O(()=>c=!1)),r.$set(n),-1!==e[0].skillReward.skill?w?w.p(e,t):(w=bt(e),w.c(),w.m(s,null)):w&&(w.d(1),w=null)},i(e){p||(B(r.$$.fragment,e),p=!0)},o(e){H(r.$$.fragment,e),p=!1},d(e){e&&f(t),K(r),w&&w.d()}}}function wt(e){let t,n,l,i,o,s,r,c,u,p,$,x,w,I,M,S,R,D,L,C,T,N,q=e[1].skillRequirement+"",E=e[1].xpReward+"";function A(t){e[2].call(null,t)}let P={};void 0!==e[0].skillReq.skill&&(P.value=e[0].skillReq.skill),r=new ot({props:P}),_.push(()=>J(r,"value",A));let j=-1!==e[0].skillReq.skill&&kt(e);return{c(){t=m("tr"),n=m("td"),l=g(q),i=h(),o=m("td"),s=m("div"),Q(r.$$.fragment),u=h(),j&&j.c(),p=h(),$=m("tr"),x=m("td"),w=g(E),I=h(),M=m("td"),S=m("div"),R=m("input"),D=h(),L=m("div"),b(s,"class","right-column svelte-1vuvfv5"),b(R,"class","svelte-1vuvfv5"),b(L,"class","right-column svelte-1vuvfv5"),b(S,"class","right-column svelte-1vuvfv5")},m(c,f){d(c,t,f),a(t,n),a(n,l),a(t,i),a(t,o),a(o,s),Y(r,s,null),a(s,u),j&&j.m(s,null),d(c,p,f),d(c,$,f),a($,x),a(x,w),a($,I),a($,M),a(M,S),a(S,R),y(R,e[0].xpReward),a(S,D),a(S,L),C=!0,T||(N=v(R,"input",e[4]),T=!0)},p(e,t){(!C||2&t)&&q!==(q=e[1].skillRequirement+"")&&k(l,q);const n={};!c&&1&t&&(c=!0,n.value=e[0].skillReq.skill,O(()=>c=!1)),r.$set(n),-1!==e[0].skillReq.skill?j?j.p(e,t):(j=kt(e),j.c(),j.m(s,null)):j&&(j.d(1),j=null),(!C||2&t)&&E!==(E=e[1].xpReward+"")&&k(w,E),1&t&&R.value!==e[0].xpReward&&y(R,e[0].xpReward)},i(e){C||(B(r.$$.fragment,e),C=!0)},o(e){H(r.$$.fragment,e),C=!1},d(e){e&&f(t),K(r),j&&j.d(),e&&f(p),e&&f($),T=!1,N()}}}function bt(e){let t,n,l;return{c(){t=m("input"),b(t,"class","svelte-1vuvfv5")},m(i,o){d(i,t,o),y(t,e[0].skillReward.level),n||(l=v(t,"input",e[6]),n=!0)},p(e,n){1&n&&t.value!==e[0].skillReward.level&&y(t,e[0].skillReward.level)},d(e){e&&f(t),n=!1,l()}}}function kt(e){let t,n,l;return{c(){t=m("input"),b(t,"class","svelte-1vuvfv5")},m(i,o){d(i,t,o),y(t,e[0].skillReq.level),n||(l=v(t,"input",e[3]),n=!0)},p(e,n){1&n&&t.value!==e[0].skillReq.level&&y(t,e[0].skillReq.level)},d(e){e&&f(t),n=!1,l()}}}function yt(e){let t,n,l,i,o,s,r,c,u,p,$,v,x,w=e[1].timeLimit+"";const y=[wt,xt],I=[];function M(e,t){return"Quest"===se[e[0].type]?0:"Training"===se[e[0].type]?1:-1}function S(t){e[7].call(null,t)}~(n=M(e))&&(l=I[n]=y[n](e));let R={startDate:new Date(e[0].date)};return void 0!==e[0].timeLimit&&(R.value=e[0].timeLimit),$=new vt({props:R}),_.push(()=>J($,"value",S)),{c(){t=m("table"),l&&l.c(),i=h(),o=m("tr"),s=m("td"),r=g(w),c=h(),u=m("td"),p=m("div"),Q($.$$.fragment),b(p,"class","right-column svelte-1vuvfv5"),b(t,"class","svelte-1vuvfv5")},m(e,l){d(e,t,l),~n&&I[n].m(t,null),a(t,i),a(t,o),a(o,s),a(s,r),a(o,c),a(o,u),a(u,p),Y($,p,null),x=!0},p(e,[o]){let s=n;n=M(e),n===s?~n&&I[n].p(e,o):(l&&(U(),H(I[s],1,1,()=>{I[s]=null}),X()),~n?(l=I[n],l||(l=I[n]=y[n](e),l.c()),B(l,1),l.m(t,i)):l=null),(!x||2&o)&&w!==(w=e[1].timeLimit+"")&&k(r,w);const c={};1&o&&(c.startDate=new Date(e[0].date)),!v&&1&o&&(v=!0,c.value=e[0].timeLimit,O(()=>v=!1)),$.$set(c)},i(e){x||(B(l),B($.$$.fragment,e),x=!0)},o(e){H(l),H($.$$.fragment,e),x=!1},d(e){e&&f(t),~n&&I[n].d(),K($)}}}function It(e,t,n){let l;c(e,be,e=>n(1,l=e));let{editedItem:i}=t;return e.$$set=e=>{"editedItem"in e&&n(0,i=e.editedItem)},[i,l,function(e){i.skillReq.skill=e,n(0,i)},function(){i.skillReq.level=this.value,n(0,i)},function(){i.xpReward=this.value,n(0,i)},function(e){i.skillReward.skill=e,n(0,i)},function(){i.skillReward.level=this.value,n(0,i)},function(e){i.timeLimit=e,n(0,i)}]}class Mt extends te{constructor(e){super(),ee(this,e,It,yt,o,{editedItem:0})}}function St(e){let t,n,i,o,s,r,c,u,p,$,w,I,M,S,R,D,L=e[2].save+"";function C(t){e[9].call(null,t)}let T={};function N(t){e[10].call(null,t)}void 0!==e[0].type&&(T.value=e[0].type),s=new Ge({props:T}),_.push(()=>J(s,"value",C));let q={};return void 0!==e[0]&&(q.editedItem=e[0]),I=new Mt({props:q}),_.push(()=>J(I,"editedItem",N)),{c(){var e,l,r;t=m("form"),n=m("div"),i=m("input"),o=h(),Q(s.$$.fragment),c=h(),u=m("button"),p=g(L),$=h(),w=m("div"),Q(I.$$.fragment),b(i,"class","svelte-gwqplq"),e="display",l="flex",n.style.setProperty(e,l,r?"important":"")},m(l,r){d(l,t,r),a(t,n),a(n,i),y(i,e[0].content),e[8](i),a(n,o),Y(s,n,null),a(n,c),a(n,u),a(u,p),a(t,$),a(t,w),Y(I,w,null),S=!0,R||(D=[v(i,"input",e[7]),v(t,"submit",x(e[3]))],R=!0)},p(e,[t]){1&t&&i.value!==e[0].content&&y(i,e[0].content);const n={};!r&&1&t&&(r=!0,n.value=e[0].type,O(()=>r=!1)),s.$set(n),(!S||4&t)&&L!==(L=e[2].save+"")&&k(p,L);const l={};!M&&1&t&&(M=!0,l.editedItem=e[0],O(()=>M=!1)),I.$set(l)},i(e){S||(B(s.$$.fragment,e),B(I.$$.fragment,e),S=!0)},o(e){H(s.$$.fragment,e),H(I.$$.fragment,e),S=!1},d(n){n&&f(t),e[8](null),K(s),K(I),R=!1,l(D)}}}function Rt(e,t,n){let l;c(e,be,e=>n(2,l=e));let i,{initialItem:o}=t,{handleTodoEditSave:s}=t,{index:r}=t,u={...o};return D(()=>{i.focus()}),e.$$set=e=>{"initialItem"in e&&n(4,o=e.initialItem),"handleTodoEditSave"in e&&n(5,s=e.handleTodoEditSave),"index"in e&&n(6,r=e.index)},[u,i,l,function(){var e;(ge((e=u).xpReward)?ge(e.timeLimit)||(alert("TIME LIMIT NOT A NUMBER"),0):(alert("XP REWARD NOT A NUMBER"),0))&&s(r,u)},o,s,r,function(){u.content=this.value,n(0,u)},function(e){_[e?"unshift":"push"](()=>{i=e,n(1,i)})},function(e){u.type=e,n(0,u)},function(e){u=e,n(0,u)}]}class Dt extends te{constructor(e){super(),ee(this,e,Rt,St,o,{initialItem:4,handleTodoEditSave:5,index:6})}}const Lt=le(new Date,(function(e){const t=setInterval(()=>{console.log("trying");const t=new Date;e(t),r(je).forEach((e,n)=>{if(0!==e.timeLimit){let l=new Date(e.date).valueOf(),i=parseInt(e.timeLimit),o=l+Math.floor(3*i/4),s=l+i-t;t>o&&!e.sentExpireWarning&&(je.hasSentExpiredWarning(n),Oe.add({message:"shortTime",timeLeft:s,todoIndex:n,todoContent:e.content,date:new Date})),s<0&&!e.expired&&(je.expire(n),Oe.add({message:"expiredTime",timeLeft:0,todoIndex:n,todoContent:e.content,date:new Date}))}})},6e4);return function(){clearInterval(t)}}));function Ct(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function _t(e){let t,n,l=e[6].addSomeTodos+"";return{c(){t=m("li"),n=g(l),b(t,"class","svelte-110jsbf")},m(e,l){d(e,t,l),a(t,n)},p(e,t){64&t&&l!==(l=e[6].addSomeTodos+"")&&k(n,l)},d(e){e&&f(t)}}}function Tt(e){let t,n,i,o,s,r,c,u,p,$,x,y,I,M,S,R,D,L,C,_,T,N,q,E,A,O=0===e[19].type?"!":"#",P=e[19].content+"",j=me(e[19].date,e[8])[e[9]]+"";function z(...t){return e[15](e[19],...t)}function F(...t){return e[16](e[19],...t)}return L=new et({props:{focusNewPos:e[12],index:e[19].sourceIndex,filter:e[1],text:"↑",diff:-1}}),_=new et({props:{focusNewPos:e[12],index:e[19].sourceIndex,filter:e[1],text:"↓",diff:1}}),N=new We({props:{index:e[19].sourceIndex}}),{c(){t=m("input"),o=h(),s=m("span"),r=m("b"),c=g(O),u=h(),p=m("span"),$=g(P),x=h(),y=m("div"),I=m("span"),M=m("abbr"),S=g(j),D=h(),Q(L.$$.fragment),C=h(),Q(_.$$.fragment),T=h(),Q(N.$$.fragment),b(t,"type","checkbox"),t.checked=n=e[5]===e[19].sourceIndex||e[19].completed,t.disabled=i=e[19].completed||e[19].expired,b(s,"class","content svelte-110jsbf"),b(M,"title",R=ae(e[19].date)),b(M,"class","svelte-110jsbf"),b(I,"class","todo-time"),b(y,"class","todo-right")},m(e,n){d(e,t,n),d(e,o,n),d(e,s,n),a(s,r),a(r,c),a(s,u),a(s,p),a(p,$),d(e,x,n),d(e,y,n),a(y,I),a(I,M),a(M,S),a(y,D),Y(L,y,null),a(y,C),Y(_,y,null),a(y,T),Y(N,y,null),q=!0,E||(A=[v(t,"click",w(z)),v(p,"click",w(F))],E=!0)},p(l,o){e=l,(!q||160&o&&n!==(n=e[5]===e[19].sourceIndex||e[19].completed))&&(t.checked=n),(!q||128&o&&i!==(i=e[19].completed||e[19].expired))&&(t.disabled=i),(!q||128&o)&&O!==(O=0===e[19].type?"!":"#")&&k(c,O),(!q||128&o)&&P!==(P=e[19].content+"")&&k($,P),(!q||896&o)&&j!==(j=me(e[19].date,e[8])[e[9]]+"")&&k(S,j),(!q||128&o&&R!==(R=ae(e[19].date)))&&b(M,"title",R);const s={};128&o&&(s.index=e[19].sourceIndex),2&o&&(s.filter=e[1]),L.$set(s);const r={};128&o&&(r.index=e[19].sourceIndex),2&o&&(r.filter=e[1]),_.$set(r);const u={};128&o&&(u.index=e[19].sourceIndex),N.$set(u)},i(e){q||(B(L.$$.fragment,e),B(_.$$.fragment,e),B(N.$$.fragment,e),q=!0)},o(e){H(L.$$.fragment,e),H(_.$$.fragment,e),H(N.$$.fragment,e),q=!1},d(e){e&&f(t),e&&f(o),e&&f(s),e&&f(x),e&&f(y),K(L),K(_),K(N),E=!1,l(A)}}}function Nt(e){let t,n,l,i,o;return n=new Dt({props:{handleTodoEditSave:e[11],index:e[19].sourceIndex,initialItem:e[19]}}),{c(){t=m("div"),Q(n.$$.fragment),b(t,"class","todo-editor")},m(s,r){d(s,t,r),Y(n,t,null),l=!0,i||(o=v(t,"click",w(e[14])),i=!0)},p(e,t){const l={};128&t&&(l.index=e[19].sourceIndex),128&t&&(l.initialItem=e[19]),n.$set(l)},i(e){l||(B(n.$$.fragment,e),l=!0)},o(e){H(n.$$.fragment,e),l=!1},d(e){e&&f(t),K(n),i=!1,o()}}}function qt(e,t){let n,l,i,o,s,r,c;const a=[Nt,Tt],p=[];function g(e,t){return e[19].sourceIndex===e[3]?0:1}function h(...e){return t[17](t[19],...e)}return l=g(t),i=p[l]=a[l](t),{key:e,first:null,c(){n=m("li"),i.c(),b(n,"class",o=u(`${t[19].sourceIndex===t[4]?"active-todo":"inactive-todo"} ${t[19].expired?"expired":""} ${t[19].sourceIndex===t[5]?"checked":""} ${t[19].sourceIndex===t[3]?"editing":""} ${0===t[19].type?"quest":"training"}`)+" svelte-110jsbf"),this.first=n},m(e,t){d(e,n,t),p[l].m(n,null),s=!0,r||(c=v(n,"click",h),r=!0)},p(e,r){let c=l;l=g(t=e),l===c?p[l].p(t,r):(U(),H(p[c],1,1,()=>{p[c]=null}),X(),i=p[l],i||(i=p[l]=a[l](t),i.c()),B(i,1),i.m(n,null)),(!s||184&r&&o!==(o=u(`${t[19].sourceIndex===t[4]?"active-todo":"inactive-todo"} ${t[19].expired?"expired":""} ${t[19].sourceIndex===t[5]?"checked":""} ${t[19].sourceIndex===t[3]?"editing":""} ${0===t[19].type?"quest":"training"}`)+" svelte-110jsbf"))&&b(n,"class",o)},i(e){s||(B(i),s=!0)},o(e){H(i),s=!1},d(e){e&&f(n),p[l].d(),r=!1,c()}}}function Et(e){let t,n,l,i,o,s,r=[],c=new Map,u=0===e[7].length&&_t(e),p=e[7];const g=e=>e[19].sourceIndex;for(let t=0;t<p.length;t+=1){let n=Ct(e,p,t),l=g(n);c.set(l,r[t]=qt(l,n))}return o=new Ye({props:{todoListIndex:e[0]}}),{c(){t=m("ul"),u&&u.c(),n=h();for(let e=0;e<r.length;e+=1)r[e].c();l=h(),i=m("li"),Q(o.$$.fragment),b(i,"class","svelte-110jsbf"),b(t,"class","todo-list svelte-110jsbf")},m(e,c){d(e,t,c),u&&u.m(t,null),a(t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);a(t,l),a(t,i),Y(o,i,null),s=!0},p(e,[i]){if(0===e[7].length?u?u.p(e,i):(u=_t(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),16314&i){const n=e[7];U(),r=function(e,t,n,l,i,o,s,r,c,u,a,d){let f=e.length,p=o.length,m=f;const g={};for(;m--;)g[e[m].key]=m;const h=[],$=new Map,v=new Map;for(m=p;m--;){const e=d(i,o,m),r=n(e);let c=s.get(r);c?l&&c.p(e,t):(c=u(r,e),c.c()),$.set(r,h[m]=c),r in g&&v.set(r,Math.abs(m-g[r]))}const x=new Set,w=new Set;function b(e){B(e,1),e.m(r,a),s.set(e.key,e),a=e.first,p--}for(;f&&p;){const t=h[p-1],n=e[f-1],l=t.key,i=n.key;t===n?(a=t.first,f--,p--):$.has(i)?!s.has(l)||x.has(l)?b(t):w.has(i)?f--:v.get(l)>v.get(i)?(w.add(l),b(t)):(x.add(i),f--):(c(n,s),f--)}for(;f--;){const t=e[f];$.has(t.key)||c(t,s)}for(;p;)b(h[p-1]);return h}(r,i,g,1,e,n,c,t,G,qt,l,Ct),X()}const s={};1&i&&(s.todoListIndex=e[0]),o.$set(s)},i(e){if(!s){for(let e=0;e<p.length;e+=1)B(r[e]);B(o.$$.fragment,e),s=!0}},o(e){for(let e=0;e<r.length;e+=1)H(r[e]);H(o.$$.fragment,e),s=!1},d(e){e&&f(t),u&&u.d();for(let e=0;e<r.length;e+=1)r[e].d();K(o)}}}function At(t,n,l){let i,o,r,u,a=e;c(t,be,e=>l(6,i=e)),c(t,Lt,e=>l(8,r=e)),c(t,we,e=>l(9,u=e)),t.$$.on_destroy.push(()=>a());let d,f,{todoListIndex:p}=n,{filter:m}=n,g=-1,h=-1;function $(e){l(3,g=e)}function v(e){clearTimeout(f),f=setTimeout(()=>{l(4,h=-1)},1e3),l(4,h=e),l(3,g=-1)}let x=-1;function w(e){l(5,x=e),setTimeout(()=>{try{je.complete(e)}catch(e){alert(i[e]||e)}l(5,x=-1)},1500)}return t.$$set=e=>{"todoListIndex"in e&&l(0,p=e.todoListIndex),"filter"in e&&l(1,m=e.filter)},t.$$.update=()=>{2&t.$$.dirty&&(l(2,d=(e=>oe(je,t=>{let n=[...t];for(let t=n.length-1;t>=0;t--)n[t].sourceIndex=t,e(n[t])||n.splice(t,1);return n}))(m)),a(),a=s(d,e=>l(7,o=e)))},[p,m,d,g,h,x,i,o,r,u,$,function(e,t){je.edit(e,t),l(3,g=-1)},v,w,function(e){L(t,e)},e=>w(e.sourceIndex),e=>$(e.sourceIndex),e=>v(e.sourceIndex)]}class Ot extends te{constructor(e){super(),ee(this,e,At,Et,o,{todoListIndex:0,filter:1})}}function Pt(e){const t={todoList:je,skillList:ve,notifications:Oe,language:we,display:Ae,xp:Pe};for(let e in t)t[e].subscribe(t=>{window.localStorage.setItem(e,JSON.stringify(t))});return[]}class jt extends te{constructor(e){super(),ee(this,e,Pt,null,o,{})}}function zt(e,t,n){const l=e.slice();return l[3]=t[n],l}function Ft(e){let t,n,l=e[1].noNotifications+"";return{c(){t=m("li"),n=g(l)},m(e,l){d(e,t,l),a(t,n)},p(e,t){2&t&&l!==(l=e[1].noNotifications+"")&&k(n,l)},d(e){e&&f(t)}}}function Wt(e){let t,n,l,i,o,s,r,c,u=`${0!==e[3].timeLeft?pe(e[3].timeLeft)[e[2]]:""} ${e[1][e[3].message]} ${e[3].todoContent}`,p=(e[3].date?ae(e[3].date):"")+"";return{c(){t=m("li"),n=m("b"),l=g(u),i=g("\r\n         \r\n        "),o=m("div"),s=m("i"),r=g(p),c=h()},m(e,u){d(e,t,u),a(t,n),a(n,l),a(t,i),a(t,o),a(o,s),a(s,r),a(t,c)},p(e,t){7&t&&u!==(u=`${0!==e[3].timeLeft?pe(e[3].timeLeft)[e[2]]:""} ${e[1][e[3].message]} ${e[3].todoContent}`)&&k(l,u),1&t&&p!==(p=(e[3].date?ae(e[3].date):"")+"")&&k(r,p)},d(e){e&&f(t)}}}function Vt(t){let n,l,i;return{c(){n=m("a"),n.textContent="Clear"},m(e,t){d(e,n,t),l||(i=v(n,"click",Oe.clear),l=!0)},p:e,d(e){e&&f(n),l=!1,i()}}}function Ut(t){let n,l,i,o,s=0===t[0].length&&Ft(t),r=t[0],c=[];for(let e=0;e<r.length;e+=1)c[e]=Wt(zt(t,r,e));let u=t[0].length>0&&Vt();return{c(){n=m("div"),l=m("ul"),s&&s.c(),i=h();for(let e=0;e<c.length;e+=1)c[e].c();o=h(),u&&u.c()},m(e,t){d(e,n,t),a(n,l),s&&s.m(l,null),a(l,i);for(let e=0;e<c.length;e+=1)c[e].m(l,null);a(n,o),u&&u.m(n,null)},p(e,[t]){if(0===e[0].length?s?s.p(e,t):(s=Ft(e),s.c(),s.m(l,i)):s&&(s.d(1),s=null),7&t){let n;for(r=e[0],n=0;n<r.length;n+=1){const i=zt(e,r,n);c[n]?c[n].p(i,t):(c[n]=Wt(i),c[n].c(),c[n].m(l,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=r.length}e[0].length>0?u?u.p(e,t):(u=Vt(),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:e,o:e,d(e){e&&f(n),s&&s.d(),p(c,e),u&&u.d()}}}function Xt(e,t,n){let l,i,o;return c(e,Oe,e=>n(0,l=e)),c(e,be,e=>n(1,i=e)),c(e,we,e=>n(2,o=e)),[l,i,o]}class Bt extends te{constructor(e){super(),ee(this,e,Xt,Ut,o,{})}}function Ht(t){let n,i,o,s,r,c,p,$,w,I,M,S,R,D,L=t[2].submit+"";return{c(){n=m("form"),i=m("input"),r=h(),c=m("button"),p=g(L),w=h(),I=m("a"),M=g("×"),b(i,"placeholder",o="🔍"),b(i,"class",s=u(""!==t[0]?"active":"")+" svelte-vg1911"),b(c,"id","submit"),b(c,"type","submit"),b(c,"class",$=u(t[0]!==t[1].searchString?"displayed":"")+" svelte-vg1911"),b(I,"id","clear"),b(I,"class",S=u(""!==t[0]?"visible":"")+" svelte-vg1911"),b(n,"class","svelte-vg1911")},m(e,l){d(e,n,l),a(n,i),y(i,t[0]),a(n,r),a(n,c),a(c,p),a(n,w),a(n,I),a(I,M),R||(D=[v(i,"input",t[5]),v(I,"click",t[4]),v(n,"submit",x(t[3]))],R=!0)},p(e,[t]){1&t&&s!==(s=u(""!==e[0]?"active":"")+" svelte-vg1911")&&b(i,"class",s),1&t&&i.value!==e[0]&&y(i,e[0]),4&t&&L!==(L=e[2].submit+"")&&k(p,L),3&t&&$!==($=u(e[0]!==e[1].searchString?"displayed":"")+" svelte-vg1911")&&b(c,"class",$),1&t&&S!==(S=u(""!==e[0]?"visible":"")+" svelte-vg1911")&&b(I,"class",S)},i:e,o:e,d(e){e&&f(n),R=!1,l(D)}}}function Gt(e,t,n){let l,i;c(e,Ae,e=>n(1,l=e)),c(e,be,e=>n(2,i=e));let o=l.searchString;function s(){Ae.listSearchResults(o)}return[o,l,i,s,function(){n(0,o=""),s()},function(){o=this.value,n(0,o)}]}class Jt extends te{constructor(e){super(),ee(this,e,Gt,Ht,o,{})}}function Qt(t){let n,l,o,s,r,c,p,$,x,w,k;return{c(){n=m("div"),l=m("span"),l.textContent="☀️",o=h(),s=m("span"),r=m("span"),c=g(" "),$=h(),x=m("span"),x.textContent="🌑",b(l,"class","sun svelte-amwxfi"),b(r,"class",p=u("switch "+(t[0]?"on":"off"))+" svelte-amwxfi"),b(s,"class","slider svelte-amwxfi"),b(x,"class","moon svelte-amwxfi"),b(n,"class","day-night-toggle svelte-amwxfi")},m(e,u){d(e,n,u),a(n,l),a(n,o),a(n,s),a(s,r),a(r,c),a(n,$),a(n,x),w||(k=v(n,"click",(function(){i(t[1])&&t[1].apply(this,arguments)})),w=!0)},p(e,[n]){t=e,1&n&&p!==(p=u("switch "+(t[0]?"on":"off"))+" svelte-amwxfi")&&b(r,"class",p)},i:e,o:e,d(e){e&&f(n),w=!1,k()}}}function Yt(e,t,n){let{nightMode:l}=t,{toggleNightMode:i}=t;return e.$$set=e=>{"nightMode"in e&&n(0,l=e.nightMode),"toggleNightMode"in e&&n(1,i=e.toggleNightMode)},[l,i]}class Kt extends te{constructor(e){super(),ee(this,e,Yt,Qt,o,{nightMode:0,toggleNightMode:1})}}function Zt(t){let n,l,i,o,s,r;return{c(){n=m("div"),l=m("abbr"),i=m("div"),o=m("div"),b(o,"class","xp-fill svelte-1fs51th"),b(o,"style",s=`width: calc(${Math.floor(100*t[0]/en)}% - 2px);`),b(i,"class","xp-bar svelte-1fs51th"),b(l,"title",r=t[0]+" XP"),b(n,"class","xp-bar-container svelte-1fs51th")},m(e,t){d(e,n,t),a(n,l),a(l,i),a(i,o)},p(e,[t]){1&t&&s!==(s=`width: calc(${Math.floor(100*e[0]/en)}% - 2px);`)&&b(o,"style",s),1&t&&r!==(r=e[0]+" XP")&&b(l,"title",r)},i:e,o:e,d(e){e&&f(n)}}}const en=500;function tn(e,t,n){let l;return c(e,Pe,e=>n(0,l=e)),[l]}class nn extends te{constructor(e){super(),ee(this,e,tn,Zt,o,{})}}function ln(e){let t;return{c(){t=m("b"),t.textContent="!"},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function on(e){let t,n,l,i,o=e[1].viewSeparate+"";return{c(){t=m("a"),n=g(o)},m(e,o){d(e,t,o),a(t,n),l||(i=v(t,"click",Ae.setSeparateDisplay),l=!0)},p(e,t){2&t&&o!==(o=e[1].viewSeparate+"")&&k(n,o)},d(e){e&&f(t),l=!1,i()}}}function sn(e){let t,n,l,i,o=e[1].viewMixed+"";return{c(){t=m("a"),n=g(o)},m(e,o){d(e,t,o),a(t,n),l||(i=v(t,"click",Ae.setMixedDisplay),l=!0)},p(e,t){2&t&&o!==(o=e[1].viewMixed+"")&&k(n,o)},d(e){e&&f(t),l=!1,i()}}}function rn(e){let t,n,l,i;return t=new Ot({props:{todoListIndex:0,filter:an(e[0],0)}}),l=new Ot({props:{todoListIndex:1,filter:an(e[0],1)}}),{c(){Q(t.$$.fragment),n=h(),Q(l.$$.fragment)},m(e,o){Y(t,e,o),d(e,n,o),Y(l,e,o),i=!0},p(e,n){const i={};1&n&&(i.filter=an(e[0],0)),t.$set(i);const o={};1&n&&(o.filter=an(e[0],1)),l.$set(o)},i(e){i||(B(t.$$.fragment,e),B(l.$$.fragment,e),i=!0)},o(e){H(t.$$.fragment,e),H(l.$$.fragment,e),i=!1},d(e){K(t,e),e&&f(n),K(l,e)}}}function cn(e){let t,n;return t=new Ot({props:{todoListIndex:0,filter:an(e[0],0)}}),{c(){Q(t.$$.fragment)},m(e,l){Y(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.filter=an(e[0],0)),t.$set(l)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function un(e){let t,n,i,o,s,r,c,p,$,x,w,y,I,M,S,R,D,L,C,_,T,N,q,E,A,O,P,j,z,F,W,V,G,J,Z,ee,te,ne,le,ie,oe,se,re,ce,ue,ae=e[1].notifications+"",de=e[1].options+"",fe=(e[0].viewCompleted?e[1].hideCompleted:e[1].viewCompleted)+"",pe="ro"===e[3]?"English":"română",me=e[1].skills+"";n=new jt({}),s=new Jt({});let ge=e[2].length>0&&ln();function he(e,t){return e[0].separateDisplay?sn:on}S=new Bt({});let $e=he(e),ve=$e(e);J=new Kt({props:{nightMode:e[0].nightMode,toggleNightMode:Ae.toggleNightMode}}),ee=new nn({});const xe=[cn,rn],be=[];function ke(e,t){return e[0].separateDisplay?1:0}return ne=ke(e),le=be[ne]=xe[ne](e),oe=new Ee({props:{open:e[0].modalOpen,toggleSkillModal:Ae.toggleModal}}),{c(){t=m("div"),Q(n.$$.fragment),i=h(),o=m("div"),Q(s.$$.fragment),r=h(),c=m("div"),p=m("div"),$=m("button"),x=g("📧 "),w=g(ae),y=h(),ge&&ge.c(),I=h(),M=m("div"),Q(S.$$.fragment),R=h(),D=m("div"),L=m("button"),C=g("🔧 "),_=g(de),T=h(),N=m("div"),ve.c(),q=h(),E=m("a"),A=g(fe),O=h(),P=m("a"),j=g(pe),z=h(),F=m("button"),W=g("🎸 "),V=g(me),G=h(),Q(J.$$.fragment),Z=h(),Q(ee.$$.fragment),te=h(),le.c(),ie=h(),Q(oe.$$.fragment),b(M,"class","notifications dropdown-content"),b(p,"class","dropdown"),b(N,"class","dropdown-content"),b(D,"class","dropdown"),b(c,"class","menu"),b(o,"class","container svelte-1oobm5z"),b(t,"id","app"),b(t,"class",se=u(""+(e[0].nightMode?"night":"day"))+" svelte-1oobm5z")},m(e,l){d(e,t,l),Y(n,t,null),a(t,i),a(t,o),Y(s,o,null),a(o,r),a(o,c),a(c,p),a(p,$),a($,x),a($,w),a($,y),ge&&ge.m($,null),a(p,I),a(p,M),Y(S,M,null),a(c,R),a(c,D),a(D,L),a(L,C),a(L,_),a(D,T),a(D,N),ve.m(N,null),a(N,q),a(N,E),a(E,A),a(N,O),a(N,P),a(P,j),a(c,z),a(c,F),a(F,W),a(F,V),a(c,G),Y(J,c,null),a(o,Z),Y(ee,o,null),a(o,te),be[ne].m(o,null),a(o,ie),Y(oe,o,null),re=!0,ce||(ue=[v(E,"click",Ae.toggleViewCompleted),v(P,"click",we.toggle),v(F,"click",Ae.toggleModal)],ce=!0)},p(e,[n]){(!re||2&n)&&ae!==(ae=e[1].notifications+"")&&k(w,ae),e[2].length>0?ge||(ge=ln(),ge.c(),ge.m($,null)):ge&&(ge.d(1),ge=null),(!re||2&n)&&de!==(de=e[1].options+"")&&k(_,de),$e===($e=he(e))&&ve?ve.p(e,n):(ve.d(1),ve=$e(e),ve&&(ve.c(),ve.m(N,q))),(!re||3&n)&&fe!==(fe=(e[0].viewCompleted?e[1].hideCompleted:e[1].viewCompleted)+"")&&k(A,fe),(!re||8&n)&&pe!==(pe="ro"===e[3]?"English":"română")&&k(j,pe),(!re||2&n)&&me!==(me=e[1].skills+"")&&k(V,me);const l={};1&n&&(l.nightMode=e[0].nightMode),J.$set(l);let i=ne;ne=ke(e),ne===i?be[ne].p(e,n):(U(),H(be[i],1,1,()=>{be[i]=null}),X(),le=be[ne],le||(le=be[ne]=xe[ne](e),le.c()),B(le,1),le.m(o,ie));const s={};1&n&&(s.open=e[0].modalOpen),oe.$set(s),(!re||1&n&&se!==(se=u(""+(e[0].nightMode?"night":"day"))+" svelte-1oobm5z"))&&b(t,"class",se)},i(e){re||(B(n.$$.fragment,e),B(s.$$.fragment,e),B(S.$$.fragment,e),B(J.$$.fragment,e),B(ee.$$.fragment,e),B(le),B(oe.$$.fragment,e),re=!0)},o(e){H(n.$$.fragment,e),H(s.$$.fragment,e),H(S.$$.fragment,e),H(J.$$.fragment,e),H(ee.$$.fragment,e),H(le),H(oe.$$.fragment,e),re=!1},d(e){e&&f(t),K(n),K(s),ge&&ge.d(),K(S),ve.d(),K(J),K(ee),be[ne].d(),K(oe),ce=!1,l(ue)}}}function an(e,t){let n,l=t=>e.viewCompleted||!t.completed;return n=e.separateDisplay?e.questsFirst?e=>l(e)&&e.type===t:e=>l(e)&&e.type!==t:e=>l(e),t=>n(t)&&(t=>t.content.includes(e.searchString))(t)}function dn(e,t,n){let l,i,o,s;return c(e,Ae,e=>n(0,l=e)),c(e,be,e=>n(1,i=e)),c(e,Oe,e=>n(2,o=e)),c(e,we,e=>n(3,s=e)),D(()=>{document.title="RPG Todo"}),[l,i,o,s]}return new class extends te{constructor(e){super(),ee(this,e,dn,un,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
